{% extends 'base.html' %}
{% block content %}
<header class="container product-banner">
    <h1 class="hide-on-med-and-down">Products</h1>
    <h3 class="hide-on-med-and-up">Products</h3>
    <div class="flex-wrapper search">
        <form id="searchForm" action="" method="GET" class="">
                <input class="input input--text" id="search_query" type="text" name="search_query"
                value="{{ search_query }}" placeholder="Search by Product" />
                <input class="btn" type="submit" value="Search" />
        </form>
    </div>
</header>
<section class="container">
    <div class="row">
        <div class="col s8 offset-s2 m6 offset-m3 text-center">
            <h3 class="border-bottom padding-bottom hide-on-med-and-down">Products</h3>
        </div>
    </div>
    <div class="row margin-top">
    {% for product in products %}
        <div class="col s10 offset-s1 m6 l4 xl3">
            <a href="{% url 'view-product' product.id %}">
                <div class="card">
                    <div class="card-image">
                        <img src="{{ product.image.url }}">
                    </div>
                    <div class="card-content">
                        <span class="card-title">{{ product.name|truncatechars:17 }}</span>
                    </div>
                    <div class="card-action">
                        <a href="#">Order</a>
                        <span class="card-price">Â£{{ product.price }}</span>
                </div>
            </a>
        </div> 
    </div>
    {% endfor %}
    {% include 'includes/pagination.html' with queryset=products custom_range=custom_range %}
</section>
{% endblock %}